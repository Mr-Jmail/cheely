<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="login.css">
    <title>Login</title>
</head>

<body>
    <div class="login-page">
        <div class="form">
            <div class="login">
                <div class="login-header">
                    <h3>LOGIN</h3>
                </div>
            </div>
            <forms class="login-form">
                <input type="text" id="username" name="username" placeholder="username" />
                <input type="password" id="password" name="password" placeholder="password" />
                <button onclick="GoLogin()" id="loginn-btn">login</button>
            </forms>
        </div>
    </div>
    <script defer>
        const HOST = "https://nodejs.helpervk.ru/"
        const login = document.getElementById('login-btn');
        async function GoLogin() {
            const response = await fetch(HOST+'login', {method: 'post', body: JSON.stringify({username: document.getElementById("username").value, password: document.getElementById("password").value}), headers: {"Content-Type": "application/json"}}).catch(err => console.log(err));
            const responseData = await response.json();
            console.log(responseData)
            if (response.ok) localStorage.setItem('accessToken', responseData.accessToken);
            else console.log("Login failed");
        }; 

    </script>
</body>

</html>